-20 + 5 * b_m / 9 + 4 * b_h / 9)
#c(E_max - E_min, 2 / 3 * (b_h - 6))
#E_max - E_min
lambda <- 2
b_m <- 0.5
b_h <- 1
w <- 0
uu <- function(x, r) {
if (r <= x)
x + (x - r)
else
x - lambda * (r - x)
}
u_min <- function(x) {
2 / 3 * uu(x, w - 18) + 1 / 3 * uu(x, w - 18 + b_m)
}
u_max <- function(x) {
1 / 3 * uu(x, w + b_m - 20) + 2 / 3 * uu(x, w + b_h - 20)
}
E_min <- 2 / 3 * u_min(w - 18) + 1 / 3 * u_min(w + b_m - 18)
c(E_min, w - 18 + b_m / 9 * (5 - 2 * lambda), -18 + b_m / 9)
E_max <- 1 / 3 * u_max(w + b_m - 20) + 2 / 3 * u_max(w + b_h - 20)
c(E_max, w - 20 + b_m / 9 * (1 + 2 * lambda) + 2 * b_h / 9 * (4 - lambda),
-20 + 5 * b_m / 9 + 4 * b_h / 9)
#c(E_max - E_min, 2 / 3 * (b_h - 6))
#E_max - E_min
lambda <- 2
b_m <- 0.5
b_h <- 1.1
w <- 0
uu <- function(x, r) {
if (r <= x)
x + (x - r)
else
x - lambda * (r - x)
}
u_min <- function(x) {
2 / 3 * uu(x, w - 18) + 1 / 3 * uu(x, w - 18 + b_m)
}
u_max <- function(x) {
1 / 3 * uu(x, w + b_m - 20) + 2 / 3 * uu(x, w + b_h - 20)
}
E_min <- 2 / 3 * u_min(w - 18) + 1 / 3 * u_min(w + b_m - 18)
c(E_min, w - 18 + b_m / 9 * (5 - 2 * lambda), -18 + b_m / 9)
E_max <- 1 / 3 * u_max(w + b_m - 20) + 2 / 3 * u_max(w + b_h - 20)
c(E_max, w - 20 + b_m / 9 * (1 + 2 * lambda) + 2 * b_h / 9 * (4 - lambda),
-20 + 5 * b_m / 9 + 4 * b_h / 9)
#c(E_max - E_min, 2 / 3 * (b_h - 6))
#E_max - E_min
lambda <- 2
b_m <- 0.5
b_h <- 11.1
w <- 0
uu <- function(x, r) {
if (r <= x)
x + (x - r)
else
x - lambda * (r - x)
}
u_min <- function(x) {
2 / 3 * uu(x, w - 18) + 1 / 3 * uu(x, w - 18 + b_m)
}
u_max <- function(x) {
1 / 3 * uu(x, w + b_m - 20) + 2 / 3 * uu(x, w + b_h - 20)
}
E_min <- 2 / 3 * u_min(w - 18) + 1 / 3 * u_min(w + b_m - 18)
c(E_min, w - 18 + b_m / 9 * (5 - 2 * lambda), -18 + b_m / 9)
E_max <- 1 / 3 * u_max(w + b_m - 20) + 2 / 3 * u_max(w + b_h - 20)
c(E_max, w - 20 + b_m / 9 * (1 + 2 * lambda) + 2 * b_h / 9 * (4 - lambda),
-20 + 5 * b_m / 9 + 4 * b_h / 9)
#c(E_max - E_min, 2 / 3 * (b_h - 6))
#E_max - E_min
lambda <- 2
b_m <- 0.5
b_h <- 0.5
w <- 0
uu <- function(x, r) {
if (r <= x)
x + (x - r)
else
x - lambda * (r - x)
}
u_min <- function(x) {
2 / 3 * uu(x, w - 18) + 1 / 3 * uu(x, w - 18 + b_m)
}
u_max <- function(x) {
1 / 3 * uu(x, w + b_m - 20) + 2 / 3 * uu(x, w + b_h - 20)
}
E_min <- 2 / 3 * u_min(w - 18) + 1 / 3 * u_min(w + b_m - 18)
c(E_min, w - 18 + b_m / 9 * (5 - 2 * lambda), -18 + b_m / 9)
E_max <- 1 / 3 * u_max(w + b_m - 20) + 2 / 3 * u_max(w + b_h - 20)
c(E_max, w - 20 + b_m / 9 * (1 + 2 * lambda) + 2 * b_h / 9 * (4 - lambda),
-20 + 5 * b_m / 9 + 4 * b_h / 9)
#c(E_max - E_min, 2 / 3 * (b_h - 6))
#E_max - E_min
lambda <- 2
b_m <- 0.2
b_h <- 0.5
w <- 0
uu <- function(x, r) {
if (r <= x)
x + (x - r)
else
x - lambda * (r - x)
}
u_min <- function(x) {
2 / 3 * uu(x, w - 18) + 1 / 3 * uu(x, w - 18 + b_m)
}
u_max <- function(x) {
1 / 3 * uu(x, w + b_m - 20) + 2 / 3 * uu(x, w + b_h - 20)
}
E_min <- 2 / 3 * u_min(w - 18) + 1 / 3 * u_min(w + b_m - 18)
c(E_min, w - 18 + b_m / 9 * (5 - 2 * lambda), -18 + b_m / 9)
E_max <- 1 / 3 * u_max(w + b_m - 20) + 2 / 3 * u_max(w + b_h - 20)
c(E_max, w - 20 + b_m / 9 * (1 + 2 * lambda) + 2 * b_h / 9 * (4 - lambda),
-20 + 5 * b_m / 9 + 4 * b_h / 9)
#c(E_max - E_min, 2 / 3 * (b_h - 6))
#E_max - E_min
lambda <- 2
b_m <- 20
b_h <- 20
w <- 0
uu <- function(x, r) {
if (r <= x)
x + (x - r)
else
x - lambda * (r - x)
}
u_min <- function(x) {
2 / 3 * uu(x, w - 18) + 1 / 3 * uu(x, w - 18 + b_m)
}
u_max <- function(x) {
1 / 3 * uu(x, w + b_m - 20) + 2 / 3 * uu(x, w + b_h - 20)
}
E_min <- 2 / 3 * u_min(w - 18) + 1 / 3 * u_min(w + b_m - 18)
c(E_min, w - 18 + b_m / 9 * (5 - 2 * lambda), -18 + b_m / 9)
E_max <- 1 / 3 * u_max(w + b_m - 20) + 2 / 3 * u_max(w + b_h - 20)
c(E_max, w - 20 + b_m / 9 * (1 + 2 * lambda) + 2 * b_h / 9 * (4 - lambda),
-20 + 5 * b_m / 9 + 4 * b_h / 9)
#c(E_max - E_min, 2 / 3 * (b_h - 6))
#E_max - E_min
lambda <- 1
b_m <- 20
b_h <- 20
w <- 0
uu <- function(x, r) {
if (r <= x)
x + (x - r)
else
x - lambda * (r - x)
}
u_min <- function(x) {
2 / 3 * uu(x, w - 18) + 1 / 3 * uu(x, w - 18 + b_m)
}
u_max <- function(x) {
1 / 3 * uu(x, w + b_m - 20) + 2 / 3 * uu(x, w + b_h - 20)
}
E_min <- 2 / 3 * u_min(w - 18) + 1 / 3 * u_min(w + b_m - 18)
c(E_min, w - 18 + b_m / 9 * (5 - 2 * lambda), -18 + b_m / 9)
E_max <- 1 / 3 * u_max(w + b_m - 20) + 2 / 3 * u_max(w + b_h - 20)
c(E_max, w - 20 + b_m / 9 * (1 + 2 * lambda) + 2 * b_h / 9 * (4 - lambda),
-20 + 5 * b_m / 9 + 4 * b_h / 9)
#c(E_max - E_min, 2 / 3 * (b_h - 6))
#E_max - E_min
u1 <- -10
u2 <- 10
u0 <- 5
beta <- 0.5
delta <- 0.9
weight <- c(1, beta * delta, beta * delta ^ 2)
a <- c(u0, u0, u0)
b <- c(u0, u0, u1)
c <- c(u0, u1, u2)
d <- c(u1, u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
u1 <- -10
u2 <- 10
u0 <- 5
beta <- 0.5
delta <- 0.8
weight <- c(1, beta * delta, beta * delta ^ 2)
a <- c(u0, u0, u0)
b <- c(u0, u0, u1)
c <- c(u0, u1, u2)
d <- c(u1, u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
u1 <- -10
u2 <- 10
u0 <- 5
beta <- 0.5
delta <- 0.9
weight <- c(1, beta * delta, beta * delta ^ 2)
a <- c(u0, u0, u0)
b <- c(u0, u0, u1)
c <- c(u0, u1, u2)
d <- c(u1, u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
u1 <- -20
u2 <- 10
u0 <- 5
beta <- 0.5
delta <- 0.9
weight <- c(1, beta * delta, beta * delta ^ 2)
a <- c(u0, u0, u0)
b <- c(u0, u0, u1)
c <- c(u0, u1, u2)
d <- c(u1, u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
u1 <- -5
u2 <- 10
u0 <- 5
beta <- 0.5
delta <- 0.9
weight <- c(1, beta * delta, beta * delta ^ 2)
a <- c(u0, u0, u0)
b <- c(u0, u0, u1)
c <- c(u0, u1, u2)
d <- c(u1, u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
u1 <- -5
u2 <- 10
u0 <- 0
beta <- 0.5
delta <- 0.9
weight <- c(1, beta * delta, beta * delta ^ 2)
a <- c(u0, u0, u0)
b <- c(u0, u0, u1)
c <- c(u0, u1, u2)
d <- c(u1, u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
u1 <- -5
u2 <- 10
u0 <- 2
beta <- 0.5
delta <- 0.9
weight <- c(1, beta * delta, beta * delta ^ 2)
a <- c(u0, u0, u0)
b <- c(u0, u0, u1)
c <- c(u0, u1, u2)
d <- c(u1, u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
weight <- c(1, beta * delta)
a <- c(u0, u0)
b <- c(u0, u1)
c <- c(u1, u2)
d <- c(u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
u1 <- -5
u2 <- 10
u0 <- 2
beta <- 1
delta <- 0.9
weight <- c(1, beta * delta, beta * delta ^ 2)
a <- c(u0, u0, u0)
b <- c(u0, u0, u1)
c <- c(u0, u1, u2)
d <- c(u1, u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
weight <- c(1, beta * delta)
a <- c(u0, u0)
b <- c(u0, u1)
c <- c(u1, u2)
d <- c(u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
u1 <- -5
u2 <- 10
u0 <- 2
beta <- 0.5
delta <- 0.9
weight <- c(1, beta * delta, beta * delta ^ 2)
a <- c(u0, u0, u0)
b <- c(u0, u0, u1)
c <- c(u0, u1, u2)
d <- c(u1, u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
weight <- c(1, beta * delta)
a <- c(u0, u0)
b <- c(u0, u1)
c <- c(u1, u2)
d <- c(u2, u2)
c(sum(a * weight), sum(b * weight), sum(c * weight), sum(d * weight))
278-29+1
378.48/54000
1067.67/119000
1067.67/69000
x <- matrix(c(16,25,0,9),nrow=2)
y <- matrix(c(16,0,25,9),nrow=2)
x
y
u.x <- matrix(nrow=2,ncol=2)
u.y <- matrix(nrow=2,ncol=2)
u <- function(x, y) {
sqrt(x)
}
x <- matrix(c(16,25,0,9),nrow=2)
y <- matrix(c(16,0,25,9),nrow=2)
for (i in 1:2)
for (j in 1:2) {
u.x[i, j] <- u(x[i, j], y[i, j])
u.y[i, j] <- u(y[i, j], x[i, j])
}
u.x
u.y
u.x <- matrix(nrow=2,ncol=2)
u.y <- matrix(nrow=2,ncol=2)
u <- function(x, y) {
sqrt(x) + sqrt(y)
}
x <- matrix(c(16,25,0,9),nrow=2)
y <- matrix(c(16,0,25,9),nrow=2)
for (i in 1:2)
for (j in 1:2) {
u.x[i, j] <- u(x[i, j], y[i, j])
u.y[i, j] <- u(y[i, j], x[i, j])
}
u.x
u.y
u.x <- matrix(nrow=2,ncol=2)
u.y <- matrix(nrow=2,ncol=2)
u <- function(x, y) {
sqrt(x) - sqrt(y)
}
x <- matrix(c(16,25,0,9),nrow=2)
y <- matrix(c(16,0,25,9),nrow=2)
for (i in 1:2)
for (j in 1:2) {
u.x[i, j] <- u(x[i, j], y[i, j])
u.y[i, j] <- u(y[i, j], x[i, j])
}
u.x
u.y
u.x <- matrix(nrow=2,ncol=2)
u.y <- matrix(nrow=2,ncol=2)
u <- function(x, y) {
min(sqrt(x), sqrt(y))
}
x <- matrix(c(16,25,0,9),nrow=2)
y <- matrix(c(16,0,25,9),nrow=2)
for (i in 1:2)
for (j in 1:2) {
u.x[i, j] <- u(x[i, j], y[i, j])
u.y[i, j] <- u(y[i, j], x[i, j])
}
u.x
u.y
25/75/3
1/3*(1/4/(3/4))
13.89+88.53+12.07-12+145+25+155+101.16+15+53.71+39.99+25+15+16.49+121.78+2.99+14+40.59+7.9+8.44+44.31+1.66+14.10+44.27+61.65+149+28.68+62.04+19.77+15+15+29.39+80.18+36.49+18.99
405+369
13.89+88.53+12.07-12+145+25+155+101.16+15+53.71+39.99+25+15+16.49+121.78+2.99+14+40.59+7.9+8.44+44.31+1.66+14.10+44.27+61.65+149+28.68+62.04+19.77+15+15+29.39+80.18+36.49+18.99+15+765.20
13.89+88.53+12.07-12+145+25+155+101.16+15+53.71+39.99+25+15+16.49+121.78+2.99+14+40.59+7.9+8.44+44.31+1.66+14.10+44.27+61.65+149+28.68+62.04+19.77+15+15+29.39+80.18+36.49+18.99
u <- function(x, r) {
if (r <= x)
x + x - r
else
x - 4 * (r - x)
}
u.skip <- function(x) {
0.25 * u(x, 20) + 0.75 * u(x, 0)
}
u.skip(20) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, 20) + 0.25 * u(x, 0)
}
u.study(20 - 4) * 0.75 + u.study(-4) * 0.25
u.study <- function(x) {
0.75 * u(x, 20 - 4) + 0.25 * u(x, 0)
}
u.study(20 - 4) * 0.75 + u.study(-4) * 0.25
u.study <- function(x) {
0.75 * u(x, 20) + 0.25 * u(x, 0)
}
u.study(20) * 0.75 + u.study(0) * 0.25 - 4
u.study <- function(x) {
0.75 * u(x, 16) + 0.25 * u(x, -4)
}
u.study(16) * 0.75 + u.study(-4) * 0.25
B <- 20
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, B - 4) + 0.25 * u(x, -4)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
B <- 20 + 1
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, B - 4) + 0.25 * u(x, -4)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
B <- 20
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, B - 4) + 0.25 * u(x, -4)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
u.study <- function(x) {
0.75 * u(x, 20) + 0.25 * u(x, 0)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
B <- 21
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, 20) + 0.25 * u(x, 0)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
B <- 22
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, 20) + 0.25 * u(x, 0)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
u.study <- function(x) {
0.75 * u(x, B) + 0.25 * u(x, 0)
}
u.study(B) * 0.75 + u.study(0) * 0.25
B <- 20
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, B) + 0.25 * u(x, 0)
}
u.study(B) * 0.75 + u.study(0) * 0.25
B <- 20
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, B) + 0.25 * u(x, 0)
}
u.study(B) * 0.75 + u.study(0) * 0.25 - 4
B <- 20
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, B) + 0.25 * u(x, 0)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
B <- 25
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, B) + 0.25 * u(x, 0)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
B <- 22
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, B) + 0.25 * u(x, 0)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
B <- 20
u.skip <- function(x) {
0.25 * u(x, B) + 0.75 * u(x, 0)
}
u.skip(B) * 0.25 + u.skip(0) * 0.75
u.study <- function(x) {
0.75 * u(x, B) + 0.25 * u(x, 0)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
u.study <- function(x) {
0.75 * u(x, B - 4) + 0.25 * u(x, -4)
}
u.study(B - 4) * 0.75 + u.study(-4) * 0.25
install.packages('benchmarkme')
library(benchmarkme)
res <- benchmark_std()
?benchmark_std
library(glmnet)
install.packages('glmnet')
library(glmnet)
?auc
auc
glmnet:::auc()
glmnet:::auc
3088/1440
3088/8
1440/8
386/4
386/2
1999-18
2022-1981
shiny::runApp('Workspace/BDBShiny/ShinyBHB')
setwd("~/Workspace/BDBShiny/ShinyBHB")
